<html>
    <head>
        <link rel="stylesheet" href="../../jquery-ui.min.css">
        <link rel="stylesheet" href="../../jquery-ui.theme.min.css">
        <script src="../../jquery-3.7.1.min.js"></script>
        <script src="../../jquery-ui.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" crossorigin="anonymous" />

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css">
        <link rel="stylesheet" href="https://ejd799.github.io/BulmaColoredInputs/main.css">
        <link rel="stylesheet" href="../../styles.css">

        <link rel="stylesheet" href="https://ejd799.github.io/BulmaSelectmenu/selectmenu.css">
        <script src="https://ejd799.github.io/BulmaSelectmenu/selectmenu.js"></script>

        <style id="themeStyleElement"></style>

        <style>
            input {
                padding: 10px;
            }
            body {
                color: var(--bulma-text);
                background: var(--app-main-tabs-background);
                padding-left: 18px;
                padding-top: 18px;
            }
            .ui-selectmenu-menu { /* Or .ui-autocomplete for autocomplete dropdowns */
                z-index: 2000 !important; /* Use !important if necessary to override existing styles */
            }
        </style>
    </head>
    <body>
        <label for="elementIDBox">Element Name (Editor)</label>
        <input class="input normalInput" name="elementIDBox" id="elementIDBox" placeholder="Element ID" disabled>
        <br><br>
        <label for="blockIDBox">Item ID</label>
        <input class="input normalInput" name="blockIDBox" id="blockIDBox" placeholder="Block ID">
        <br><br>
        <label for="nameBox">Block Name</label>
        <input class="input normalInput" name="nameBox" id="nameBox" placeholder="Block Name">
        <br><br>
        <label for="categoryBox">Inventory Category</label>
        <div class="select">
            <select name="categoryBox" id="categoryBox">
                <option value="construction">Construction</option>
                <option value="equipment">Equipment</option>
                <option value="items" selected>Items</option>
                <option value="nature">Nature</option>
                <option value="none">None</option>
            </select>
        </div>
        <br><br>
        <label for="modelBtn">Block Model: <span id="modelNameText">No model selected</span></label>
        <button class="button" name="modelBtn" id="modelBtn" onclick="openSelectModelDlg()">Select Model</button>
        <!--<br><br>
        <label for="useCustomItemBox">Use Custom Item Texture</label>-->
        <input class="is-primary" type="checkbox" id="useCustomItemBox" name="useCustomItemBox" style="display:none;">
        <!--<br><br>-->
        <div id="itemTextureDiv" style="display:none;">
            <label for="itemTextureBtn">Item Texture: <span id="textureNameText">No texture selected</span></label>
            <button class="button" name="itemTextureBtn" id="itemTextureBtn" onclick="openSelectTextureDlg(false, false, 'default', -1)">Select Texture</button>
            <br><br>
        </div>
        <h5 class="title is-5">Block Textures</h5>
        <label for="blockTextureBtn0">Default: <span id="textureNameText0">No texture selected</span></label>
        <button class="button" name="blockTextureBtn0" id="blockTextureBtn0" onclick="openSelectTextureDlg(false, false, 'default', 0)">Select Texture</button>
        <br><br>
        <div id="additionalTexturesDiv"></div>
        <span class="title is-4">Components <button class="button is-primary" id="addComponentBtn" onclick="addComponent()">+ Add Component</button></span>
        <div id="componentsBox"></div>

        <div class="modal" id="addComponentDlg">
            <div class="modal-background"></div>
            <div class="modal-content" style="width:400px;height:300px;">
                <div class="card" id="addComponentDlgCard" style="padding:16px;">
                    <center>
                        <h4 class="title is-4">Add Component</h4>
                        <label for="addComponentType">Component Type</label>
                        <div class="select">
                            <select name="addComponentType" id="addComponentType">
                                <option>Placement Direction</option>
                                <option>Placement Position</option>
                                <option>Collision Box</option>
                                <!--<option>Block Tint</option>-->
                                <option>Crafting Table</option>
                                <option>Destructible by Explosion</option>
                                <option>Destructible by Mining</option>
                                <option>Destruction Particles</option>
                                <option>Flammable</option>
                                <option>Flower Pottable</option>
                                <option>Friction</option>
                                <option>Interactable</option>
                                <option>Light Dampening</option>
                                <option>Light Emission</option>
                                <option>Liquid Detection</option>
                                <option>Loot</option>
                                <option>Map Color</option>
                                <option>Movable</option>
                                <option>Precipitation Interactions</option>
                                <option>Random Offset</option>
                                <option>Redstone Conductivity</option>
                                <option>Redstone Producer</option>
                                <option>Replaceable</option>
                                <option>Selection Box</option>
                            </select>
                        </div>
                        <br><br>
                        <button class="button" id="addComponentCancelBtn" onclick="closeAddComponentDlg()">Cancel</button>
                        <button class="button is-primary" id="addComponentAddBtn" onclick="createComponent($('#addComponentType').val())">Add</button>
                    </center>
                </div>
            </div>
            <button class="modal-close is-large" aria-label="close" onclick="closeAddComponentDlg();"></button>
        </div>

        <div class="modal" id="selectTextureDlg">
            <div class="modal-background"></div>
            <div class="modal-content" style="width:400px;height:550px;">
                <div class="card" id="selectTextureDlgCard" style="padding:16px;">
                    <center>
                        <h4 class="title is-4">Select Texture</h4>
                        <div class="textureMenu" id="selectTextureMenu"></div>

                        <div class="textureDialogButtons">
                            <button class="button" id="selectTextureCancelBtn" onclick="closeSelectTextureDlg()">Cancel</button>
                            <button class="button is-primary" id="selectTextureSelectBtn" onclick="selectTexture(currentTextureSelecting)">Select</button>
                            <button class="button is-primary" id="selectTextureSelectBtn2" onclick="selectCompTexture()">Select</button>
                        </div>
                    </center>
                </div>
            </div>
            <button class="modal-close is-large" aria-label="close" onclick="closeSelectTextureDlg();"></button>
        </div>

        <div class="modal" id="selectModelDlg">
            <div class="modal-background"></div>
            <div class="modal-content" style="width:400px;height:550px;">
                <div class="card" id="selectModelDlgCard" style="padding:16px;">
                    <center>
                        <h4 class="title is-4">Select Model</h4>
                        <div class="textureMenu" id="selectModelMenu"></div>

                        <div class="textureDialogButtons">
                            <button class="button" id="selectModelCancelBtn" onclick="closeSelectModelDlg()">Cancel</button>
                            <button class="button is-primary" id="selectModelSelectBtn" onclick="selectModel(currentModelSelecting)">Select</button>
                        </div>
                    </center>
                </div>
            </div>
            <button class="modal-close is-large" aria-label="close" onclick="closeSelectModelDlg();"></button>
        </div>

        <!-- new start -->
        <div class="modal" id="selectTableDlg">
            <div class="modal-background"></div>
            <div class="modal-content" style="width:400px;height:550px;">
                <div class="card" id="selectTableDlgCard" style="padding:16px;">
                    <center>
                        <h4 id="selectTableDlgTitle" class="title is-4">Select Table</h4>
                        <div class="textureMenu" id="selectTableMenu"></div>

                        <div class="textureDialogButtons">
                            <button class="button" id="selectTableCancelBtn" onclick="closeSelectTableDlg()">Cancel</button>
                            <button class="button is-primary" id="selectTableSelectBtn" onclick="selectTable()">Select</button>
                        </div>
                    </center>
                </div>
            </div>
            <button class="modal-close is-large" aria-label="close" onclick="closeSelectTextureDlg();"></button>
        </div>

        <div class="modal" id="advEditor">
            <div class="modal-background"></div>
            <div class="modal-content" style="width:400px;height:500px;">
                <div class="card" id="advEditorCard" style="padding:16px;">
                    <center>
                        <h4 id="advEditorTitle" class="title is-4">Edit Input</h4>
                        <div id="advEditorContentList">
                        <button class="button is-primary" id="advEditorListAddBtn" onclick="advEditorAddItem('list', '', -1)">+ Add Item</button>
                        <br><br>
                        <div id="advEditorListContent"></div>
                        </div>
                        <br><br>
                        <button class="button is-primary" id="advEditorSave" onclick="saveAdvInput()">Save</button>
                    </center>
                </div>
            </div>
            <button class="modal-close is-large" aria-label="close" onclick="saveAdvInput();"></button>
        </div>
        <!-- new end -->

        <div class="modal" id="deleteDlg">
            <div class="modal-background"></div>
            <div class="modal-content" style="width:300px;height:200px;">
                <div class="card" id="deleteDlgCard" style="padding:16px;">
                    <center>
                        <h4 id="selectTableDlgTitle" class="title is-4">Delete Component?</h4>
                        <span id="deleteDlgText"></span><br><br>
                        <button class="button" id="deleteDlgCancel" onclick="closeDeleteComponent()">Cancel</button>
                        <button class="button is-danger" id="deleteDlgConfirm">Delete</button>
                    </center>
                </div>
            </div>
            <button class="modal-close is-large" aria-label="close" onclick="closeDeleteComponent();"></button>
        </div>

        <script src="../../libs.js"></script>
        <script src="block.js"></script>
    </body>
</html>