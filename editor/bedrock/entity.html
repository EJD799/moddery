<html>
    <head>
        <link rel="stylesheet" href="../../jquery-ui.min.css">
        <link rel="stylesheet" href="../../jquery-ui.theme.min.css">
        <script src="../../jquery-3.7.1.min.js"></script>
        <script src="../../jquery-ui.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" crossorigin="anonymous" />
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css">
        <link rel="stylesheet" href="https://ejd799.github.io/BulmaColoredInputs/main.css">
        <link rel="stylesheet" href="../../styles.css">

        <style id="themeStyleElement"></style>
        
        <style>
            input {
                padding: 10px;
            }
            body {
                color: var(--bulma-text);
                background: var(--app-main-tabs-background);
                padding-left: 18px;
                padding-top: 18px;
            }
            .ui-selectmenu-menu { /* Or .ui-autocomplete for autocomplete dropdowns */
                z-index: 2000 !important; /* Use !important if necessary to override existing styles */
            }
        </style>
    </head>
    <body>
        <label for="elementIDBox">Element Name (Editor)</label>
        <input class="input normalInput" name="elementIDBox" id="elementIDBox" placeholder="Element ID" disabled>
        <br><br>
        <label for="entityIDBox">Entity ID</label>
        <input class="input normalInput" name="entityIDBox" id="entityIDBox" placeholder="Entity ID">
        <br><br>
        <label for="nameBox">Entity Name</label>
        <input class="input normalInput" name="nameBox" id="nameBox" placeholder="Entity Name">
        <br><br>
        <label for="enableAttachablesBox">Enable Attachables</label>
        <input class="is-primary" name="enableAttachablesBox" id="enableAttachablesBox" type="checkbox">
        <br><br>
        <label for="hideArmorBox">Hide Armor</label>
        <input class="is-primary" name="hideArmorBox" id="hideArmorBox" type="checkbox">
        <br><br>
        <label for="modelBtn">Entity Model: <span id="modelNameText">No model selected</span></label>
        <button class="button" name="modelBtn" id="modelBtn" onclick="openSelectModelDlg()">Select Model</button>
        <span class="title is-5">Entity Textures <button class="button is-primary" id="addTextureBtn" onclick="addTexture()">+ Add Texture</button></span>
        <label for="entityTextureBtn0">Default: <span id="textureNameText0">No texture selected</span></label>
        <button class="button" name="entityTextureBtn0" id="entityTextureBtn0" onclick="openSelectTextureDlg(false, false, 'default', 0)">Select Texture</button>
        <br><br>
        <div id="additionalTexturesDiv"></div>
        <span class="title is-4">Components <button class="button is-primary" id="addComponentBtn" onclick="addComponent()">+ Add Component</button></span>
        <div id="componentsBox"></div>

        <div class="modal" id="addComponentDlg">
            <div class="modal-background"></div>
            <div class="modal-content" style="width:400px;height:300px;">
                <div class="card" id="addComponentDlgCard" style="padding:16px;">
                    <center>
                        <h4 class="title is-4">Add Component</h4>
                        <label for="addComponentType">Component Type</label>
                        <div class="select">
                            <select name="addComponentType" id="addComponentType">
                                <option>Health</option>
                                <option>Attack Damage</option>
                                <option>Movement Speed</option>
                                <option>Collision Box</option>
                                <option>Can Fly</option>
                                <option>Can Climb</option>
                                <option>Buoyant</option>
                                <option>Fire Immune</option>
                                <option>Random Stroll Behavior</option>
                                <option>Melee Attack Behavior</option>
                                <option>Panic Behavior</option>
                                <option>Loot</option>
                                <option>Effect Immunity</option>
                                <option>Apply Effect</option>
                                <option>Spawn Weight</option>
                                <option>Transient</option>
                                <option>Interactable</option>
                                <option>Add Rider</option>
                                <option>Break Door</option>
                                <option>Open Door</option>
                                <option>Attack Cooldown</option>
                                <option>Barter</option>
                                <option>Boss</option>
                                <option>Breathable</option>
                                <option>Burns in Daylight</option>
                                <option>Can Join Raid</option>
                                <option>Can Power Jump</option>
                                <option>Cannot Be Attacked</option>
                                <option>Economy Trade Table</option>
                                <option>Flying Speed</option>
                                <option>Friction Modifier</option>
                                <option>Ground Offset</option>
                                <option>Input Controls</option>
                                <option>Is Collidable</option>
                                <option>Is Dyeable</option>
                                <option>Is Hidden When Invisible</option>
                                <option>Renders When Invisible</option>
                                <option>Scale</option>
                                <option>Item Hopper</option>
                                <option>Static Jump</option>
                                <option>Leashable</option>
                                <option>Amphibious Movement</option>
                                <option>Basic Movement</option>
                                <option>Fly Movement</option>
                                <option>Generic Movement</option>
                                <option>Hover Movement</option>
                                <option>Jump Movement</option>
                                <option>Skip Movement</option>
                                <option>Sway Movement</option>
                                <option>Nameable</option>
                                <option>Climb Navigation</option>
                                <option>Float Navigation</option>
                                <option>Fly Navigation</option>
                                <option>Generic Navigation</option>
                                <option>Hover Navigation</option>
                                <option>Swim Navigation</option>
                                <option>Walk Navigation</option>
                                <option>Persistent</option>
                                <option>Physics</option>
                                <option>Pushable</option>
                                <option>Rail Movement</option>
                                <option>Rideable</option>
                                <option>Tameable</option>
                                <option>Max Auto Step</option>
                                <option>Vertical Movement Action</option>
                                <option>Water Movement</option>
                            </select>
                        </div>
                        <br><br>
                        <button class="button" id="addComponentCancelBtn" onclick="closeAddComponentDlg()">Cancel</button>
                        <button class="button is-primary" id="addComponentAddBtn" onclick="createComponent($('#addComponentType').val())">Add</button>
                    </center>
                </div>
            </div>
            <button class="modal-close is-large" aria-label="close" onclick="closeAddComponentDlg();"></button>
        </div>

        <div class="modal" id="selectTextureDlg">
            <div class="modal-background"></div>
            <div class="modal-content" style="width:400px;height:550px;">
                <div class="card" id="selectTextureDlgCard" style="padding:16px;">
                    <center>
                        <h4 class="title is-4">Select Texture</h4>
                        <div class="textureMenu" id="selectTextureMenu"></div>

                        <div class="textureDialogButtons">
                            <button class="button" id="selectTextureCancelBtn" onclick="closeSelectTextureDlg()">Cancel</button>
                            <button class="button is-primary" id="selectTextureSelectBtn" onclick="selectTexture(currentTextureSelecting)">Select</button>
                            <button class="button is-primary" id="selectTextureSelectBtn2" onclick="selectCompTexture()">Select</button>
                        </div>
                    </center>
                </div>
            </div>
            <button class="modal-close is-large" aria-label="close" onclick="closeSelectTextureDlg();"></button>
        </div>

        <div class="modal" id="selectModelDlg">
            <div class="modal-background"></div>
            <div class="modal-content" style="width:400px;height:550px;">
                <div class="card" id="selectModelDlgCard" style="padding:16px;">
                    <center>
                        <h4 class="title is-4">Select Model</h4>
                        <div class="textureMenu" id="selectModelMenu"></div>

                        <div class="textureDialogButtons">
                            <button class="button" id="selectModelCancelBtn" onclick="closeSelectModelDlg()">Cancel</button>
                            <button class="button is-primary" id="selectModelSelectBtn" onclick="selectModel(currentModelSelecting)">Select</button>
                        </div>
                    </center>
                </div>
            </div>
            <button class="modal-close is-large" aria-label="close" onclick="closeSelectModelDlg();"></button>
        </div>

        <!-- new start -->
        <div class="modal" id="selectTableDlg">
            <div class="modal-background"></div>
            <div class="modal-content" style="width:400px;height:550px;">
                <div class="card" id="selectTableDlgCard" style="padding:16px;">
                    <center>
                        <h4 id="selectTableDlgTitle" class="title is-4">Select Table</h4>
                        <div class="textureMenu" id="selectTableMenu"></div>

                        <div class="textureDialogButtons">
                            <button class="button" id="selectTableCancelBtn" onclick="closeSelectTableDlg()">Cancel</button>
                            <button class="button is-primary" id="selectTableSelectBtn" onclick="selectTable()">Select</button>
                        </div>
                    </center>
                </div>
            </div>
            <button class="modal-close is-large" aria-label="close" onclick="closeSelectTextureDlg();"></button>
        </div>

        <div class="modal" id="advEditor">
            <div class="modal-background"></div>
            <div class="modal-content" style="width:400px;height:500px;">
                <div class="card" id="advEditorCard" style="padding:16px;">
                    <center>
                        <h4 id="advEditorTitle" class="title is-4">Edit Input</h4>
                        <div id="advEditorContentList">
                        <button class="button is-primary" id="advEditorListAddBtn" onclick="advEditorAddItem('list', '', -1)">+ Add Item</button>
                        <br><br>
                        <div id="advEditorListContent"></div>
                        </div>
                        <br><br>
                        <button class="button is-primary" id="advEditorSave" onclick="saveAdvInput()">Save</button>
                    </center>
                </div>
            </div>
            <button class="modal-close is-large" aria-label="close" onclick="saveAdvInput();"></button>
        </div>
        <!-- new end -->

        <div class="modal" id="deleteDlg">
            <div class="modal-background"></div>
            <div class="modal-content" style="width:300px;height:200px;">
                <div class="card" id="deleteDlgCard" style="padding:16px;">
                    <center>
                        <h4 id="selectTableDlgTitle" class="title is-4">Delete Component?</h4>
                        <span id="deleteDlgText"></span><br><br>
                        <button class="button" id="deleteDlgCancel" onclick="closeDeleteComponent()">Cancel</button>
                        <button class="button is-danger" id="deleteDlgConfirm">Delete</button>
                    </center>
                </div>
            </div>
            <button class="modal-close is-large" aria-label="close" onclick="closeDeleteComponent();"></button>
        </div>

        <script src="../../libs.js"></script>
        <script src="entity.js"></script>
    </body>
</html>