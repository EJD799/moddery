<!-- Load Blockly core -->
<script src="https://unpkg.com/blockly/blockly.min.js"></script>
<!-- Load a message file -->
<script src="https://unpkg.com/blockly/msg/en.js"></script>

<style>
  body {
    padding: 0;
    margin: 0;
  }

  /* 1. Remove yellow block selection outline */
  .blocklyPathSelected {
    stroke: none !important;
    stroke-width: 0 !important;
  }

  /* 2. Keep normal fill for selected block */
  .blocklySelected .blocklyPath {
    fill-opacity: 1 !important;
  }

  /* 3. Dark drop shadow on dragging blocks */
  .blocklyDragging {
    filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.4));
  }

  /* 4. Subtle opacity on dragged block paths */
  .blocklyDragging .blocklyPath {
    opacity: 0.95;
  }

  /* Make the connection highlight white and thick */
.blocklyConnectionHighlightPath {
    stroke: #ffffff !important;
    stroke-width: 4px !important;
}

/* Override the insertion marker path (the thin one) */
.blocklyInsertionMarker>.blocklyPath {
    stroke: #ffffff !important;
    stroke-width: 4px !important;
    fill: none !important;
}

</style>


<div id="blocklyDiv" style="height: 100%; width: 100%;"></div>
<script src="script.js" defer></script>
<script>
// Make highlight color white
Blockly.blockRendering.ConstantProvider.prototype.HIGHLIGHT_COLOUR = '#ffffff';
Blockly.zelos.ConstantProvider.prototype.HIGHLIGHT_COLOUR = '#ffffff';

// Make insertion marker white
Blockly.blockRendering.ConstantProvider.prototype.INSERTION_MARKER_COLOUR = '#ffffff';
Blockly.zelos.ConstantProvider.prototype.INSERTION_MARKER_COLOUR = '#ffffff';

// Make insertion marker thick
Blockly.blockRendering.ConstantProvider.prototype.INSERTION_MARKER_STROKE_WIDTH = 4;
Blockly.zelos.ConstantProvider.prototype.INSERTION_MARKER_STROKE_WIDTH = 4;

// Ensure internal highlight curves also match width
Blockly.zelos.ConstantProvider.prototype.OUTSIDE_CORNERS = 4;
Blockly.zelos.ConstantProvider.prototype.INSIDE_CORNERS = 4;

// Refresh workspace after applying patches
setTimeout(() => {
  const ws = Blockly.getMainWorkspace();
  ws.refreshToolboxSelection();
  ws.render();
}, 0);


</script>