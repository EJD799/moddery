<!-- Load Blockly core -->
<script src="https://unpkg.com/blockly/blockly.min.js"></script>
<!-- Load a message file -->
<script src="https://unpkg.com/blockly/msg/en.js"></script>

<style>
  body {
    padding: 0;
    margin: 0;
  }

  /* 1. Remove yellow block selection outline */
  .blocklyPathSelected {
    stroke: none !important;
    stroke-width: 0 !important;
  }

  /* 2. Keep normal fill for selected block */
  .blocklySelected .blocklyPath {
    fill-opacity: 1 !important;
  }

  /* 3. Dark drop shadow on dragging blocks */
  .blocklyDragging {
    filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.4));
  }

  /* 4. Subtle opacity on dragged block paths */
  .blocklyDragging .blocklyPath {
    opacity: 0.95;
  }

  /* 5. White highlight for input slots, including reporters */
  .blocklyHighlightedConnectionPath {
    stroke: #ffffff !important;
    stroke-width: 1 !important;
    fill: none !important;
    opacity: 0.5 !important;
  }
</style>


<div id="blocklyDiv" style="height: 100%; width: 100%;"></div>
<script>
// Save original function
const originalUpdateConnectionHighlight =
  Blockly.zelos.Drawer.prototype.updateConnectionHighlight_;

// Override highlight function
Blockly.zelos.Drawer.prototype.updateConnectionHighlight_ = function(conn, isConnected) {
  // Call original
  originalUpdateConnectionHighlight.call(this, conn, isConnected);

  // The highlight path is stored inside the drawer, not the connection
  const path = this.connectionHighlightPath_;
  if (path) {
    path.setAttribute('stroke', '#ffffff');   // <-- CHANGE COLOR TO WHITE
    path.setAttribute('stroke-width', '1');   // <-- CONSISTENT WIDTH
    path.setAttribute('opacity', '0.5');      // <-- SCRATCH-LIKE
  }
};

</script>
<script src="script.js" defer></script>