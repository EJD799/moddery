<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Mini Canvas Editor â€“ Scroll to Pan</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mini-canvas-editor@0.3.2/css/editor.css">
<style>
  body {
    margin: 0;
    background: #222;
    height: 100vh;
    overflow: hidden; /* prevent page scroll */
  }
  #editor {
    width: 100%;
    height: 100vh;
  }
</style>
</head>
<body>

<div id="editor"></div>

<script src="https://cdn.jsdelivr.net/npm/mini-canvas-core@0.3.2/dist/index.umd.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mini-canvas-editor@0.3.2/dist/index.umd.js"></script>

<script>
  const editor = new miniCanvasEditor.Editor({
    el: document.getElementById('editor'),
    width: window.innerWidth,
    height: window.innerHeight,
    image: {
      src: 'https://picsum.photos/1600/900',
      crossOrigin: 'anonymous',
    },
  });

  const canvas = editor.canvas;
  let zoom = 1;
  let lastX = 0, lastY = 0;
  let isWheelPanning = false;

  // scroll = pan, Ctrl + scroll = zoom
  const el = editor.el;

  el.addEventListener('wheel', (e) => {
    e.preventDefault();
    const t = canvas.viewportTransform.slice();

    if (e.ctrlKey || e.metaKey) {
      // zoom
      const pointer = canvas.getPointer(e);
      zoom *= e.deltaY < 0 ? 1.2 : 0.8;
      zoom = Math.min(Math.max(zoom, 0.1), 10);
      canvas.zoomToPoint(pointer, zoom);
    } else {
      // pan
      const speed = 1.2; // adjust for faster/slower scroll
      t[4] -= e.deltaX * speed;
      t[5] -= e.deltaY * speed;
      canvas.setViewportTransform(t);
      canvas.requestRenderAll();
    }
  }, { passive: false });

  window.addEventListener('resize', () => {
    editor.resize(window.innerWidth, window.innerHeight);
  });
</script>

</body>
</html>
